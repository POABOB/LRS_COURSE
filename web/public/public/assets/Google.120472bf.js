import{_ as r}from"./index.1da0aee9.js";import{o as a,l as c,e}from"./vendor.d458375c.js";const i={name:"Google",data(){return{}},methods:{async OAuthLogin(){try{const o=await this.$gAuth.signIn();if(!o)return null;console.log("name",o.Ju.sf),console.log("email",o.Ju.zv),console.log("token",o.wc.id_token),console.log("expires_at",o.wc.expires_at);const t={name:o.Ju.sf,email:o.Ju.zv,id:0,right:"student",expires_at:o.wc.expires_at,token:o.wc.id_token};this.$store.dispatch("user/googleLogin",t).then(()=>{this.$router.push({path:"/course/list"})}).catch(s=>{console.log(s)})}catch(o){return console.error(o),null}},async handleClickGetAuthCode(){try{const o=await this.$gAuth.getAuthCode();console.log("authCode",o)}catch(o){return console.error(o),null}},async handleClickSignOut(){try{await this.$gAuth.signOut(),console.log("isAuthorized",this.Vue3GoogleOauth.isAuthorized),this.user=""}catch(o){console.error(o)}},handleClickDisconnect(){window.location.href=`https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.href}`}}},u=e("header",{class:"bg-white shadow text-center"},[e("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Google Oauth")])],-1),h={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 text-center"},g={class:"px-4 py-6 sm:px-0"},d=e("p",null,"\u5B78\u751FGoogle \u767B\u5165\u3002\u5B78\u751F\u53EF\u4EE5\u7528Google\u767B\u5165\u4F86\u8FA8\u5225\u8EAB\u4EFD\u3002",-1),p=e("span",null,"Google \u767B\u5165",-1),x=[p];function m(o,t,s,_,w,n){return a(),c("div",null,[u,e("main",null,[e("div",h,[e("div",g,[d,e("button",{onClick:t[0]||(t[0]=(...l)=>n.OAuthLogin&&n.OAuthLogin(...l)),class:"bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-16 inline-flex items-center my-4"},x)])])])])}var k=r(i,[["render",m]]);export{k as default};
